# SPDX-License-Identifier: CC0-1.0
# SPDX-FileCopyrightText: 2022, Gerrit Beine <mail@gerritbeine.com>

###
### {{ ansible_managed }}
###

[Unit]
Description={{ item.description }}
{% if item.wants is defined %}
Wants={{ item.wants }}
{% endif %}

[Service]
Type={{ item.type }}
User={{ item.user }}
WorkingDirectory={{ item.working_directory }}
{% if item.standard_output is defined %}
StandardOutput={{ item.standard_output }}
{% endif %}
{% if item.standard_error is defined %}
StandardError={{ item.standard_error }}
{% endif %}
ExecStart={{ item.exec_start }}
{% if item.environment is defined %}
{% for var, value in item.environment.items() %}
Environment={{ var }}={{ value }}
{% endfor %}
{% endif %}
