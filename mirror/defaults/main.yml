
---
# defaults file for roles/mirror

mirror__enable: "{{ mirror_enable | default(false) }}"
mirror__install_dir: "{{ mirror_install_dir | default('/usr/local/lib/mirror') }}"
mirror__logfile: "{{ mirror_logfile | default('/var/log/mirror-daily.log') }}"
mirror__error_logfile: "{{ mirror_error_logfile | default('/var/log/mirror-error.log') }}"
mirror__www_root: "{{ mirror_www_root | default('/var/www/mirror') }}"

mirror__apt_mirror_enable: "{{ mirror_apt_mirror_enable | default(mirror__apt_mirrors | length > 0) }}"
mirror__apt_mirror_base_path: "{{ mirror_apt_mirror_base_path | default('/var/spool/apt-mirror') }}"
mirror__apt_mirror_nthreads: "{{ mirror_apt_mirror_nthreads | default(20) }}"
mirror__apt_mirrors: "{{ mirror_apt_mirrors | default([]) }}"

#
# Do not change from here
#

mirror__apt_mirror_path: "{{ mirror_apt_mirror_path | default(mirror__apt_mirror_base_path + '/mirror') }}"

mirror__apt_packages_default:
- apt-mirror
- apt-transport-https

mirror__logrotate_files_default:
- name: mirror
  definitions:
  - logs:
    - "{{ mirror__logfile }}"
    - "{{ mirror__error_logfile }}"
    options:
    - daily
    - rotate 28
    - compress
    - delaycompress
    - missingok
    - notifempty

mirror__apt_packages: "{{ mirror__apt_packages_default }}"
mirror__logrotate_files: "{{ mirror__logrotate_files_default }}"
