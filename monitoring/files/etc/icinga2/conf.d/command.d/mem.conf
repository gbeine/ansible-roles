/* Icinga 2 | (c) 2012 Icinga GmbH | GPLv2+ */

object CheckCommand "mem" {
	import "ipv4-or-ipv6"

	command = [ PluginLocalDir + "/check_mem" ]

	arguments = {
		"-f" = {
			set_if = "$mem_free$"
			description = "Check FREE memory"
		}
		"-u" = {
			set_if = "$mem_used$"
			description = "Check USED memory"
		}
		"-C" = {
			set_if = "$mem_cache$"
			description = "Count OS caches as FREE memory"
		}
		"-w" = {
			value = "$mem_warning$"
			description = "Percent free/used when to warn"
		}
		"-c" = {
			value = "$mem_critical$"
			description = "Percent free/used when critical"
		}
	}

    vars.mem_used = false
    vars.mem_free = false
    vars.mem_cache = false
}

