---

monitoring_plugins: {}

#
# Do not change from here
#

monitoring__plugins_enable: "{{ monitoring_plugins_enable | default(false) }}"
monitoring__plugins_icinga_enable: "{{ monitoring_plugins_icinga_enable | default(false) }}"

#
# Default values
#
monitoring__plugins:
  check_certexp: false
  check_mem: false
  check_nginx: false
  check_phpfpm: false
  check_ssl_cert: false
  check_systemd: false
  pushover: false

monitoring__plugins_list:
- check_certexp
- check_mem
- check_nginx
- check_phpfpm
- check_ssl_cert
- check_systemd
- pushover

monitoring__plugins_config:
  check_certexp:
    src: check_certexp.pl
    target: check_certexp
    config: certexp.conf
    packages:
    - libdate-manip-perl
    - libnet-ssleay-perl
  check_mem:
    src: check_mem.pl
    target: check_mem
    config: mem.conf
  check_nginx:
    src: check_nginx_status.pl
    target: check_nginx_status
    config: nginx.conf
    packages:
    - libwww-perl
  check_phpfpm:
    src: check_phpfpm_status.pl
    target: check_phpfpm_status
    config: phpfpm.conf
    packages:
    - libfcgi-client-perl
  check_ssl_cert:
    config: ssl_cert.conf
    packages:
    - nagios-plugins-contrib
  check_systemd:
    src: check_systemd.py
    target: check_systemd
    config: systemd.conf
    packages:
    - python3-nagiosplugin
  pushover:
    src: pushover.pl
    target: pushover
    config: pushover.conf
    packages:
    - libwww-perl

monitoring__plugins_local_dir: /usr/local/lib/nagios/plugins
monitoring__plugins_icinga_dir: /etc/icinga2/conf.d/command.d

monitoring__plugins_combined: "{{ monitoring__plugins | combine(monitoring_plugins) }}"
