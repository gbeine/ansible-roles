---
# defaults file for roles/gitlab

gitlab_packages: []

#
# Substitutions
#

gitlab__enable: "{{ gitlab_enable | default (false) }}"
gitlab__flavor: "{{ gitlab_flavor | default('ce') }}"

gitlab__external_url: "{{ gitlab_url | default ('http://gitlab.example.com') }}"

gitlab__nginx_enable: "{{ gitlab_nginx_enable | default (true) }}"
gitlab__nginx_listen_addresses: "{{ gitlab_nginx_listen_addresses | default (['*', '[::]']) }}"
gitlab__nginx_listen_port: "{{ gitlab_nginx_listen_port | default (80) }}"

gitlab__letsencrypt_enable: "{{ gitlab_letsencrypt_enable | default (false) }}"

#
# Do not change from here
#

gitlab__packages_default: "{{ gitlab__packages_flavors[gitlab__flavor] }}"

gitlab__packages_flavors:
  ce:
  - gitlab-ce

gitlab__packages_combined: "{{ gitlab__packages_default + gitlab_packages}}"
