---

chrony__enable: "{{ chrony_enable | default(false) }}"

chrony__etc_dir: "{{ chrony_etc_dir | default('/etc/chrony') }}"
chrony__log_dir: "{{ chrony_log_dir | default('/var/log/chrony') }}"
chrony__var_dir: "{{ chrony_var_dir | default('/var/lib/chrony') }}"

chrony__conf_dir: "{{ chrony_conf_dir | default(chrony__etc_dir + '/conf.d') }}"
chrony__key_file: "{{ chrony_key_file | default(chrony__etc_dir + '/chrony.keys') }}"

chrony__drift_file: "{{ chrony_drift_file | default(chrony__var_dir + '/chrony.drift') }}"
chrony__ntsdump_dir: "{{ chrony_ntsdump_dir | default(chrony__var_dir) }}"

chrony__hwclock_file: "{{ chrony_hwclock_file | default('/etc/adjtime') }}"

chrony__log: "{{ chrony_log | default([]) }}"
chrony__log_change: "{{ chrony_log_change | default(0.5) }}"
chrony__allow: "{{ chrony_allow | default([]) }}"
chrony__max_update_skew: "{{ chrony_max_update_skew | default(100.0) }}"
chrony__makestep: "{{ chrony_makestep | default('1 3') }}"
chrony__leap_sec_tz: "{{ chrony_leap_sec_tz | default('right/UTC') }}"
chrony__stratum_weight: "{{ chrony_stratum_weight | default(0) }}"
chrony__local_stratum: "{{ chrony_local_stratum | default(10) }}"

chrony__rtcsync: "{{ chrony_rtcsync | default(true) }}"
chrony__no_client_log: "{{ chrony_no_client_log | default(false) }}"

chrony__source_dir: "{{ chrony_source_dir | default(chrony__source_dir_default) }}"
chrony__pool: "{{ chrony_pool | default(chrony__pool_default) }}"

chrony__pool_default:
- hostname: 0.de.pool.ntp.org
  options: iburst
- hostname: 1.de.pool.ntp.org
  options: iburst
- hostname: 2.de.pool.ntp.org
  options: iburst
- hostname: 3.de.pool.ntp.org
  options: iburst

chrony__source_dir_default:
- dir: /run/chrony-dhcp
  comment: Use time sources from DHCP.
- dir: "{{ chrony__etc_dir }}/sources.d"
  comment: Use NTP sources found in /etc/chrony/sources.d.

chrony__packages:
- chrony
