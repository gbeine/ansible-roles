---

pki_acme__pki_dir: "{{ pki_acme_pki_dir | default(pki_acme__pki_dir_default) }}"
pki_acme__email: "{{ pki_acme_email | default('') }}"
pki_acme__provider: "{{ pki_acme_provider | default('acme-staging-v02') }}"

#
# Do not change from here
#

pki_acme__accounts_dir: "{{ pki_acme__pki_dir }}/accounts"
pki_acme__renewal_dir: "{{ pki_acme__pki_dir }}/renewal"

pki_acme__global_options: "--server {{ pki_acme__provider_server[pki_acme__provider] }}"
pki_acme__register_options: "{{ pki_acme__global_options }} --email {{ pki_acme__email }} --agree-tos --no-eff-email"

pki_acme__packages: "{{ pki_acme__packages_default[bootstrap_ansible__distribution] | default([]) }}"

pki_acme__environment: "{{ pki_acme_environment | default(pki_acme__environment_default) }}"

pki_acme__pki_dir_default: /etc/letsencrypt

pki_acme__environment_default: {}

pki_acme__provider_server:
  acme-v02: https://acme-v02.api.letsencrypt.org/directory
  acme-staging-v02: https://acme-staging-v02.api.letsencrypt.org/directory

pki_acme__packages_default:
  Debian:
    - certbot
    - python3-icu
  Raspbian:
    - certbot
    - python3-icu
