---
# defaults file for roles/postgresql

postgresql_client_packages: []
postgresql_server_packages: []

#
# Substitutions
#

postgresql__enable: "{{ postgresql_enable | default (false) }}"
postgresql__client_enable: "{{ postgresql_client_enable | default (postgresql__enable or postgresql__server_enable) }}"
postgresql__server_enable: "{{ postgresql_server_enable | default (postgresql__enable) }}"
postgresql__accounts: "{{ postgresql_accounts | default ([]) }}"
postgresql__databases: "{{ postgresql_databases | default ([]) }}"
postgresql__password: "{{ vault__postgresql_password | default({}) }}"

postgresql__version: "{{ postgresql_version | default(12) }}"

#
# Do not change from here
#

postgresql__client_packages_default: "{{ postgresql__client_packages_versions[postgresql__version] }}"

postgresql__client_packages_versions:
  '12':
  - postgresql-client-12
  - postgresql-client-common
  '13':
  - postgresql-client-13
  - postgresql-client-common

postgresql__server_packages_default:  "{{ postgresql__server_packages_versions[postgresql__version] }}"

postgresql__server_packages_versions:
  '12':
  - postgresql-12
  - postgresql-common
  '13':
  - postgresql-13
  - postgresql-common

postgresql__client_packages_combined: "{{ postgresql__client_packages_default + postgresql_client_packages}}"
postgresql__server_packages_combined: "{{ postgresql__server_packages_default + postgresql_server_packages}}"
