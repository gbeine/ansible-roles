# SPDX-License-Identifier: CC0-1.0
# SPDX-FileCopyrightText: 2022, Gerrit Beine <mail@gerritbeine.com>

###
### {{ ansible_managed }}
###

[Unit]
Description={{ item.description }}
{% if item.documentation is defined %}
Documentation={{ item.documentation  }}
{% endif %}

[Timer]
{% if item.unit is defined %}
Unit={{ item.unit }}
{% endif %}
{% if item.on_active_sec is defined %}
OnActiveSec={{ item.on_active_sec }}
{% endif %}
{% if item.on_boot_sec is defined %}
OnBootSec={{ item.on_boot_sec }}
{% endif %}
{% if item.on_startup_sec is defined %}
OnStartupSec={{ item.on_startup_sec }}
{% endif %}
{% if item.on_unit_active_sec is defined %}
OnUnitActiveSec={{ item.on_unit_active_sec }}
{% endif %}
{% if item.on_unit_inactive_sec is defined %}
OnUnitInactiveSec={{ item.on_unit_inactive_sec }}
{% endif %}
{% if item.on_calendar is defined %}
OnCalendar={{ item.on_calendar }}
{% endif %}
{% if item.accuracy_sec is defined %}
AccuracySec={{ item.accuracy_sec }}
{% endif %}
{% if item.randomized_delay_sec is defined %}
RandomizedDelaySec={{ item.randomized_delay_sec }}
{% endif %}
{% if item.fixed_random_delay is defined %}
FixedRandomDelay={{ item.fixed_random_delay | ternary('true', 'false') }}
{% endif %}
{% if item.on_clock_change is defined %}
OnClockChange={{ item.on_clock_change | ternary('true', 'false') }}
{% endif %}
{% if item.on_timezone_change is defined %}
OnTimezoneChange={{ item.on_timezone_change | ternary('true', 'false') }}
{% endif %}
Persistent={{ item.persistent | default(false) | ternary('true', 'false') }}
{% if item.wake_system is defined %}
WakeSystem={{ item.wake_system | ternary('true', 'false') }}
{% endif %}
{% if item.remain_after_elapse is defined %}
RemainAfterElapse={{ item.remain_after_elapse | ternary('true', 'false') }}
{% endif %}

[Install]
{% if item.wanted_by is defined %}
{%   for value in item.wanted_by %}
WantedBy={{ value }}
{%   endfor %}
{% endif %}
