---
# defaults file for roles/php

php_packages: []
php_fpm_pools: {}

#
# Substitutions
#

php__enable: "{{ php_enable | default (false) }}"
php__flavor: "{{ php_flavor | default('fpm') }}"
php__version: "{{ php_version | default('8.1') }}"


#
# Do not change from here
#

php__packages_default:
- php-pear

php__etc_dir: '/etc/php'

php__flavor_map:
  fpm:
    packages:
    - 'php{{ php__version }}-fpm'
  apache:
    packages:
    - 'libapache2-mod-php{{ php__version }}'

php__flavor_selected: "{{ php__flavor_map[php__flavor] }}"

php__packages_combined: "{{ php_packages + php__packages_default + php__flavor_selected.packages }}"

php__fpm_pools_combined: "{{ php__fpm_pools_default | combine(php_fpm_pools, recursive=True) }}"
