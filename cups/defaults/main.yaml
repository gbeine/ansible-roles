---
# defaults file for roles/cups

cups_packages: []
cups_locations: {}

#
# Substitutions
#

cups__etc_dir: "{{ cups_etc_dir | default ('/etc/cups') }}"

cups__enable: "{{ cups_enable | default (false) }}"
cups__browsing: "{{ cups_browsing | default (true) }}"
cups__web_interface: "{{ cups_web_interface | default (true) }}"
cups__printers: "{{ cups_printers | default ([]) }}"
cups__listen: "{{ cups_listen | default (cups__listen_default) }}"

cups__server_name: "{{ cups_server_name | default ('') }}"
cups__server_alias: "{{ cups_server_alias | default ('') }}"
cups__dnssd_host_name: "{{ cups_dnssd_host_name | default (cups__server_name) }}"
cups__ssl_certificate: "{{ cups_ssl_certificate | default (cups__server_name) }}"

#
# Do not change from here
#

cups__listen_default:
- 'localhost:631'
- '/run/cups/cups.sock'

cups__packages_default:
- 'cups'
- 'printer-driver-hpcups'

cups__locations_default:
  '/':
    order: 'allow,deny'
    comment: 'Restrict access to the server...'
  '/admin':
    order: 'allow,deny'
    comment: 'Restrict access to the admin pages...'
  '/admin/conf':
    authtype: 'Default'
    require: 'user @SYSTEM'
    order: 'allow,deny'
    comment: 'Restrict access to configuration files...'
  '/admin/log':
    authtype: 'Default'
    require: 'user @SYSTEM'
    order: 'allow,deny'
    comment: 'Restrict access to log files...'

cups__locations_combined: "{{ cups__locations_default | combine(cups_locations) }}"
cups__packages_combined: "{{ cups__packages_default + cups_packages }}"
