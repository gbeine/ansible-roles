---
# defaults file for roles/apt

apt_sources: []
apt_unattended_upgrades_origin_pattern: []

#
# Substitutions
#

apt__conf_languages: "{{ apt_conf_languages | default(['en']) }}"
apt__conf_install_recommends: "{{ apt_conf_install_recommends | default(false) }}"
apt__conf_install_suggests: "{{ apt_conf_install_suggests | default(false) }}"

apt__conf_periodic_enable: "{{ apt_conf_periodic_enable | default(true) }}"
apt__conf_periodic_unattended_upgrade: "{{ apt_conf_periodic_unattended_upgrade | default(true) }}"
apt__conf_periodic_update_package_lists: "{{ apt_conf_periodic_update_package_lists | default(true) }}"
apt__conf_periodic_download_upgradeable_packages: "{{ apt_conf_periodic_download_upgradeable_packages | default(true) }}"
apt__conf_periodic_autoclean_interval: "{{ apt_conf_periodic_autoclean_interval | default(7) }}"
apt__conf_periodic_verbose:  "{{ apt_conf_periodic_verbose | default(0) }}"

apt__unattended_upgrades_auto_fix_interrupted_dpkg: "{{ apt_unattended_upgrades_auto_fix_interrupted_dpkg | default(true) }}"
apt__unattended_upgrades_minimal_steps: "{{ apt_unattended_upgrades_minimal_steps | default(true) }}"
apt__unattended_upgrades_ignore_apps_require_restart: "{{ apt_unattended_upgrades_ignore_apps_require_restart | default(true) }}"
apt__unattended_upgrades_install_on_shutdown: "{{ apt_unattended_upgrades_install_on_shutdown | default(false) }}"
apt__unattended_upgrades_mail: "{{ apt_unattended_upgrades_mail | default('') }}"
apt__unattended_upgrades_mail_report: "{{ apt_unattended_upgrades_mail_report | default('only-on-error') }}"
apt__unattended_upgrades_remove_unused_kernel_packages: "{{ apt_unattended_upgrades_remove_unused_kernel_packages | default(true) }}"
apt__unattended_upgrades_remove_new_unused_dependencies: "{{ apt_unattended_upgrades_remove_new_unused_dependencies | default(true) }}"
apt__unattended_upgrades_remove_unused_dependencies: "{{ apt_unattended_upgrades_remove_unused_dependencies | default(false) }}"
apt__unattended_upgrades_automatic_reboot: "{{ apt_unattended_upgrades_automatic_reboot | default(false) }}"
apt__unattended_upgrades_automatic_reboot_with_users: "{{ apt_unattended_upgrades_automatic_reboot_with_users | default(false) }}"
apt__unattended_upgrades_syslog_enable: "{{ apt_unattended_upgrades_syslog_enable | default(false) }}"
apt__unattended_upgrades_syslog_facility: "{{ apt_unattended_upgrades_syslog_facility | default('daemon') }}"
apt__unattended_upgrades_only_on_ac_power: "{{ apt_unattended_upgrades_only_on_ac_power | default(true) }}"
apt__unattended_upgrades_skip_updates_on_metered_connections: "{{ apt_unattended_upgrades_skip_updates_on_metered_connections | default(true) }}"
apt__unattended_upgrades_verbose: "{{ apt_unattended_upgrades_verbose | default(false) }}"
apt__unattended_upgrades_debug: "{{ apt_unattended_upgrades_debug | default(false) }}"
apt__unattended_upgrades_allow_downgrade: "{{ apt_unattended_upgrades_allow_downgrade | default(false) }}"
apt__unattended_upgrades_allow_apt_mark_fallback: "{{ apt_unattended_upgrades_allow_apt_mark_fallback | default(true) }}"

#
# Do not change from here
#

apt__packages:
- apt-transport-https
- python3-apt

apt__apt_conf_d_files_absent:
- 00InstallRecommends
- 99hetzner

apt__sources_lists_d_files_absent:
- hetzner-mirror.list
- hetzner-security-updates.list

apt__sources_default: []

apt__unattended_upgrades_origin_pattern_default:
- origin: Debian
  codename: ${distro_codename}
  label: Debian
- origin: Debian
  codename: ${distro_codename}-proposed-updates
  label: Debian
- origin: Debian
  codename: ${distro_codename}-updates
  label: Debian
- origin: Debian
  codename: ${distro_codename}
  label: Debian-Security
- origin: Debian
  codename: ${distro_codename}-security
  label: Debian-Security
- origin: Debian Backports
  codename: ${distro_codename}-backports
  label: Debian

apt__sources_combined: "{{ apt_sources + apt__sources_default }}"
apt__unattended_upgrades_origin_pattern_combined: "{{ apt_unattended_upgrades_origin_pattern + apt__unattended_upgrades_origin_pattern_default}}"
