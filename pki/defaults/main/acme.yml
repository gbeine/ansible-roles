---
# defaults file for roles/pki

#
# Substitutions
#

pki__acme_enable: "{{ pki_acme_enable | default(false) }}"
pki__acme_email: "{{ pki_acme_email | default('') }}"
pki__acme_provider: "{{ pki_acme_provider | default('acme-staging-v02') }}"

#
# Do not change from here
#

pki__acme_dir: /etc/letsencrypt
pki__acme_accounts_dir: "{{ pki__acme_dir }}/accounts"
pki__acme_renewal_dir: "{{ pki__acme_dir }}/renewal"

pki__acme_global_options: "--server {{ pki__acme_provider_map[pki__acme_provider] }}"
pki__acme_register_options: "{{ pki__acme_global_options }} --email {{ pki__acme_email }} --agree-tos --no-eff-email"

pki__acme_environment: {}

pki__acme_provider_map:
  acme-v02: https://acme-v02.api.letsencrypt.org/directory
  acme-staging-v02: https://acme-staging-v02.api.letsencrypt.org/directory

pki__acme_packages_default:
- certbot
- python3-icu

pki__acme_packages_combined: "{{ pki__acme_packages_default }}"
