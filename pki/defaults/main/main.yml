---
# defaults file for roles/pki

pki_packages: []

#
# Substitutions
#

pki__enable: "{{ pki_enable | default(false) }}"

pki__realms: "{{ pki_realms | default([]) }}"

#
# Do not change from here
#

pki__root_dir: /etc/pki
pki__realms_dir: "{{ pki__root_dir }}/realms"
pki__secrets_dir: "{{ pki__secrets_dir_default }}"

pki__public_group: root
pki__public_dir_mode: '0755'
pki__public_file_mode: '0644'
pki__private_group: ssl-cert
pki__private_dir_mode: '0750'
pki__private_file_mode: '0640'

pki__realm_structure:
- name: config
  owner: root
  group: "{{ pki__public_group }}"
  mode: "{{ pki__public_dir_mode }}"
- name: private
  owner: root
  group: "{{ pki__private_group }}"
  mode: "{{ pki__private_dir_mode }}"
- name: public
  owner: root
  group: "{{ pki__public_group }}"
  mode: "{{ pki__public_dir_mode }}"

pki__secrets_dir_default: "{{ inventory_dir }}/secrets/pki"

pki__packages_default:
- acl
- ca-certificates
- gnutls-bin
- openssl
- ssl-cert

pki__packages_combined: "{{ pki_packages + pki__packages_default }}"
